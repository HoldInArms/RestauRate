<div class="row margin-top-md">
    <h1 class="text-center font-default">Restaurant List</h1>
</div>

<div class="row margin-top-lg">
    <table class="table table-hover table-striped">
        <thead>
            <tr>
                <th class="text-center">
                    <span class="table-header-sorting" ng-click="changeOrderBy('name')">Restaurant Name</span>
                    <span class="glyphicon glyphicon-chevron-up color-light-blue"></span>
                </th>
                <th class="text-center">
                    <span class="table-header-sorting" ng-click="changeOrderBy('votes')">All Votes</span>
                    <span class="glyphicon glyphicon-chevron-down color-light-blue"></span>
                </th>
                <th class="text-center">
                    <span class="table-header-sorting" ng-click="changeOrderBy('avarge')">Avg. Score</span>
                    <span class="glyphicon glyphicon-chevron-down color-light-blue"></span>
                </th>
                <th class="text-center">
                    <span class="table-header-sorting">Actions</span>
                </th>
            </tr>
        </thead>
        <tbody class="text-center" ng-repeat="restaurant in restaurants">
            <tr>
                <td>
                    <span class="glyphicon glyphicon-question-sign" popover="This restaurant need more votes to be approved" popover-trigger="mouseenter" popover-placement="left"></span>
                    <span class="">{{restaurant.name}}</span>
                </td>
                <td>{{restaurant.votes}}</td>
                <td>
                    <progressbar class="custom-progressbar" value="restaurant.avarge" max="5" type="{{type(restaurant.avarge)}}">
                        <span class="">{{restaurant.avarge| number:1}} / 5</span>
                    </progressbar>
                </td>
                <td>
                    <button type=button" class="btn btn-restaurant" style="line-height: 15px; padding-left: 8px; padding-right: 8px;" popover="View all comments of this restaurant" popover-trigger="mouseenter" popover-placement="left" ng-click="gotoComments($index)">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                    <button type=button" class="btn btn-restaurant-admin-color-red" style="line-height: 15px; padding-left: 8px; padding-right: 8px;" popover="Hide this restaurant's visibility" popover-trigger="mouseenter" popover-placement="left" ng-if="restaurant.live" ng-click="hideRestaurant($index)">
                        <span class="glyphicon glyphicon-remove"></span>
                    </button>
                    <button type=button" class="btn btn-restaurant-admin-color-green" style="line-height: 15px; padding-left: 8px; padding-right: 8px;" popover="Make this restaurant visible" popover-trigger="mouseenter" popover-placement="left" ng-if="!restaurant.live" ng-click="reInstateRestaurant($index)">
                        <span class="glyphicon glyphicon-repeat"></span>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
    <div class="row table-footer-design text-right">
        <div class="btn-group">
            <button type="button" class="btn btn-restaurant" ng-click="goToPage(0)" ng-disabled="currentPage <= 1">
                <span class="glyphicon glyphicon-fast-backward"></span>
            </button>
            <button type="button" class="btn btn-restaurant" ng-click="goToPage(currentPage - 1)" ng-disabled="currentPage <= 1">
                <span class="glyphicon glyphicon-backward"></span>
            </button>
            <button type="button" class="btn btn-restaurant-nonclickable" disabled="disabled">
                <span style="">Page: {{currentPage || 0}}/{{allPages}}</span>
            </button>
            <button type="button" class="btn btn-restaurant" ng-click="goToPage(currentPage + 1)"  ng-disabled="currentPage == allPages">
                <span class="glyphicon glyphicon-forward"></span>
            </button>
            <button type="button" class="btn btn-restaurant" ng-click="goToPage(allPages)"  ng-disabled="currentPage == allPages">
                <span class="glyphicon glyphicon-fast-forward"></span>
            </button>
        </div>
    </div>
</div>